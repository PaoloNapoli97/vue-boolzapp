<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoolZappWeb</title>
    <!-- GOOGLE FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <!-- FONT AWESOME-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css">
    <!-- VUE JS -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app" class="ms-boozapp-container d-flex">

        <!-- Column Contacts List -->
        <div class="ms-list-contact col-4 flex-shrink-0 h-100 flex-column">

            <!-- Profile Avatar and utility icons -->
            <header>

                <div class="ms-boozapp-header ms-bg-secondary-gray d-flex justify-content-between px-2 align-items-center">

                    <div class="ms-my-profile d-flex align-items-center">

                        <div class="ms-header-avatar">
                            <img src="img/avatar_io.jpg" alt="">
                        </div>

                        <div class="ms-my-profile-name px-2 fs-5">
                            Sofia
                        </div>

                    </div>

                    <div class="ms-status-icons px-2">
                        <a href="http://"><i class="fa-solid fa-circle-notch px-2 fs-5  ms-secondary-color"></i></a>
                        <a href="http://"><i class="fa-solid fa-message px-2 fs-5  ms-secondary-color"></i></a>
                        <a href="http://"><i class="fa-solid fa-ellipsis-vertical px-2 fs-5  ms-secondary-color"></i></a>
                    </div>

                </div>

            </header>
            <!-- Contacts List -->
            <main class="nav-contacts flex-column">
                <!-- POPUP ENABLE NOTIFICATION -->
                <div class="popup-receive-notification p-3 ms-bg-popup d-flex align-items-center">
                    <div class="ms-bell-notify d-flex justify-content-center align-items-center fs-5"><i class="fa-solid fa-bell-slash"></i></div>
                    <div class="ms-popup-text mx-2">
                        Ricevi notifiche di nuovi messaggi <br>
                        <small><a href="http://">Attiva notiiche desktop</a></small>
                    </div>
                </div>
                <!-- NavBar for contacts -->
                <div class="chats d-flex flex-column ms-bg-primary-color h100 overflow-hidden">

                    <!-- Searchbar for contacts -->
                    <div class="ms-bg-lightgray-color">
                        <div class="ms-contacts-searchbar m-2 ms-secondary-color">
                            <div class="ms-input-icon">
                                <span><i class="fa-solid fa-magnifying-glass"></i></span>
                            </div>
                            <input type="text" placeholder="Cerca o inizia una nuova chat" aria-label="Search" aria-describedby="inputGroup-sizing-sm">
                        </div>
                    </div>

                    <!-- Contacts List includes: Cantact avatar, name and last message date -->
                    <div class="contact-list d-flex flex-column flex-grow-1">
                        <div class="d-flex ms-card-contact" v-for="(contact, index) in contacts" :class="{active: index === currentContact}">
                            <div class="ms-avatar">
                                <img :src="`img/avatar${contact.avatar}.jpg`" :alt="contact.name">
                            </div>
                            <div class="ms-contact-info px-3">
                                {{contact.name}} <br>
                                <small class="ms-secondary-color" v-for="(content in contact.messages">{{content.message}}</small>
                            </div>
                            
                            <!-- Last message date -->
                            <div class="d-flex ms-last-message" v-for="(message, index) in contact.messages">
                                <small class="ms-secondary-color" v-if="index === contact.messages.length-1">{{message.date.substring(11,16)}}</small>
                            </div>
                        </div>
                    </div>

                </div>
            </main>
            
        </div>

        <!-- Column Main Meesage Box -->
        <div class="ms-message-chatbox col-8 flex-shrink-0">
            
            <header>

                <div class="ms-boozapp-header ms-bg-secondary-gray d-flex justify-content-between px-2 align-items-center">

                    <div class="ms-contact-profile d-flex align-items-center" v-for="(contact, index) in contacts[currentContact]">
<!-- 
                        <div class="ms-header-avatar">
                            <img :src="`img/avatar${contact.avatar}.jpg`" :alt="contact.name">
                        </div> -->
                        
                        <div class="ms-contact-profile-name px-2 fs-5">
                            {{contact.name}}
                        </div>

                    </div>

                    <div class="ms-status-icons px-2">
                        <a href="http://"><i class="fa-solid fa-magnifying-glass px-2 fs-5  ms-secondary-color"></i></a>
                        <a href="http://"><i class="fa-solid fa-paperclip px-2 fs-5  ms-secondary-color"></i></a>
                        <a href="http://"><i class="fa-solid fa-ellipsis-vertical px-2 fs-5  ms-secondary-color"></i></a>
                    </div>

                </div>

            </header>

            <main>
                <div class="ms-messages-area d-flex flex-column">
                    <div class="ms-message-box ms-received my-1">
                        <small></small>
                    </div>
                    <div class="ms-message-box ms-sent my-1">1</div>
                </div>

            </main>

            <footer>
                <div class="ms-boozapp-footer ms-bg-secondary-gray d-flex align-items-center justify-content-between px-4">
                    <!-- Emoji -->
                    <div class="ms-status-icons">
                        <a href="http://"><i class="fa-regular fa-face-smile px-2 fs-4  ms-secondary-color"></i></a>
                    </div>
                    <!-- Text Area -->
                    <div class="ms-chat-input">
                        <input type="text" placeholder="Scrivi un messaggio" aria-label="Search" aria-describedby="inputGroup-sizing-sm">
                    </div>
                    <!-- Send message/Send Audio -->
                    <div class="ms-status-icons">
                        <a href="http://"><i class="fa-solid fa-microphone px-2 fs-4  ms-secondary-color"></i></a>
                        <!-- <a href="http://"><i class="fa-solid fa-paper-plane px-2 fs-4  ms-secondary-color"></i></a> -->
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script src="js/contacts.js"></script>
</body> 
</html>